name = "b2b-inventory-service"
main = "src/index.ts"
compatibility_date = "2024-11-01"

# Development environment
[env.dev]
name = "b2b-inventory-service-dev"

[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true

[[env.dev.d1_databases]]
binding = "DB"
database_name = "b2b-dev"
database_id = "0420eb79-c871-4fdb-bbf3-6deb62d5c0c3"

[env.dev.vars]
ENVIRONMENT = "development"
AUTH_SERVICE_URL = "http://localhost:8787"
ALLOWED_ORIGINS = "http://localhost:5173,http://localhost:4173,http://localhost:5174"
DEFAULT_PAGE_SIZE = "20"
MAX_PAGE_SIZE = "100"

# Production environment
[env.prod]
name = "b2b-inventory-service"

[[env.prod.d1_databases]]
binding = "DB"
database_name = "b2b-prod"
database_id = "7cc12490-bd4c-42dc-a3eb-1dc290a864a0"

[env.prod.vars]
ENVIRONMENT = "production"
AUTH_SERVICE_URL = "https://auth.yourdomain.workers.dev"
ALLOWED_ORIGINS = "https://yourdomain.com"
DEFAULT_PAGE_SIZE = "20"
MAX_PAGE_SIZE = "100"

# No secrets needed - services authenticate via auth-service
