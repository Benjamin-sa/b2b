name = "inventory-service"
main = "src/index.ts"
compatibility_date = "2024-09-14"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "inventory-db"
database_id = "97258abd-343e-41e9-a05f-48a535867eff"  # Will be generated when you create the D1 database

[vars]
ENVIRONMENT = "development"
SHOPIFY_STORE_URL = "https://motordashbnl.myshopify.com"  # Non-sensitive, can be in toml

[env.production.vars]
ENVIRONMENT = "production"
SHOPIFY_STORE_URL = "https://motordashbnl.myshopify.com"  # Non-sensitive

# Note: SHOPIFY_ACCESS_TOKEN and WEBHOOK_SECRET should be set as secrets, not vars
# Use: wrangler secret put SHOPIFY_ACCESS_TOKEN
# Use: wrangler secret put WEBHOOK_SECRET

[env.production.d1_databases]
binding = "DB"
database_name = "inventory-db"
database_id = "your-production-database-id"

[observability.logs]
enabled = true
